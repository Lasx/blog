{"version":3,"sources":["components/Avatar/index.jsx","components/Header.tsx","App.tsx","index.tsx","assets/avatar.png"],"names":["Avatar","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onResize","Promise","resolve","reject","$header","document","querySelector","setState","w","Math","floor","offsetWidth","h","onMouseEnter","gather","updateTweenData","componentWillUnmount","onMouseLeave","createPointData","_this$state","state","canvas","createElement","ctx","getContext","clearRect","width","height","img","Image","onload","drawImage","fillStyle","data","getImageData","setDataToDom","crossOrigin","src","image","gatherData","children","map","item","React","cloneElement","animation","x","y","opacity","scale","delay","random","duration","ease","disperseData","rect","dom","current","getBoundingClientRect","sideRect","sideBoxComp","sideTop","top","sideLeft","left","style","require","pixSize","pointSizeMin","interval","createRef","_this2","setTimeout","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","ticker","timeout","stop","clear","_this3","pointArray","number","i","j","push","forEach","r","b","col","round","join","react_default","es","className","key","backgroundColor","concat","repeat","yoyo","boxAnim","type","_this4","ref","c","alt","Component","Header","Avatar_Avatar","target","href","App","Header_Header","ReactDOM","render","src_App","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.3ae09849.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport TweenOne from 'rc-tween-one';\nimport ticker from 'rc-tween-one/lib/ticker';\nimport './index.css';\n\nexport default class Avatar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      image: require('../../assets/avatar.png'),\n      w: 300,\n      h: 300,\n      pixSize: 20,\n      pointSizeMin: 6,\n    };\n    this.interval = null;\n    this.gather = true;\n    this.dom = React.createRef();\n    this.sideBoxComp = React.createRef()\n  }\n\n  componentDidMount() {\n    setTimeout(async () => {\n      await this.onResize();\n      await this.createPointData();\n      this.interval = ticker.timeout(this.updateTweenData, 1000);\n      // window.addEventListener('resize', this.onResize, false);\n    }, 0)\n  }\n\n  componentWillUnmount() {\n    ticker.clear(this.interval);\n    this.interval = null;\n    // window.removeEventListener('resize', this.onResize, false);\n  }\n\n  onResize = () => {\n    return new Promise((resolve, reject) => {\n      const $header = document.querySelector('header')\n      this.setState({\n        w: Math.floor($header.offsetWidth * 0.7),\n        h: Math.floor($header.offsetWidth * 0.7),\n      }, () => {\n        resolve();\n      });\n    });\n  }\n\n  onMouseEnter = () => {\n    // !this.gather && this.updateTweenData();\n    if (!this.gather) {\n      this.updateTweenData();\n    }\n    this.componentWillUnmount();\n  };\n\n  onMouseLeave = () => {\n    // this.gather && this.updateTweenData();\n    if (this.gather) {\n      this.updateTweenData();\n    }\n  };\n\n  setDataToDom(data, w, h) {\n    this.pointArray = [];\n    const number = this.state.pixSize;\n    for (let i = 0; i < w; i += number) {\n      for (let j = 0; j < h; j += number) {\n        if (data[((i + j * w) * 4) + 3] > 150) {\n          this.pointArray.push({ x: i, y: j });\n        }\n      }\n    }\n    const children = [];\n    this.pointArray.forEach((item, i) => {\n      const r = Math.random() * this.state.pointSizeMin + this.state.pointSizeMin;\n      const b = Math.random() * 0.4 + 0.1;\n      const rgbs = [\n        [229, 102, 95],\n        [243, 173, 192],\n        [201, 228, 172],\n        [254, 210, 111],\n        [197, 188, 242],\n        [147, 201, 218],\n      ];\n      const col = rgbs[Math.round(Math.random() * 5)].join(',');\n      children.push((\n        <TweenOne className=\"point-wrapper\" key={i} style={{ left: item.x, top: item.y }}>\n          <TweenOne\n            className=\"point\"\n            style={{\n              width: r,\n              height: r,\n              opacity: b,\n              backgroundColor: `rgb(${col})`,\n            }}\n            animation={{\n              y: (Math.random() * 2 - 1) * 10 || 5,\n              x: (Math.random() * 2 - 1) * 5 || 2.5,\n              delay: Math.random() * 1000,\n              repeat: -1,\n              duration: 3000,\n              yoyo: true,\n              ease: 'easeInOutQuad',\n              }}\n          />\n        </TweenOne>\n      ));\n    });\n    this.setState({\n      children,\n      boxAnim: { opacity: 0, type: 'from', duration: 800 },\n    });\n  }\n\n  createPointData = () => {\n    return new Promise((resolve, reject) => {\n      const { w, h } = this.state;\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d');\n      ctx.clearRect(0, 0, w, h);\n      canvas.width = this.state.w;\n      canvas.height = h;\n      const img = new Image();\n      img.onload = () => {\n        ctx.drawImage(img, 0, 0, img.width, img.height, 0, 0, w, h);\n        ctx.fillStyle = 'rgba(255, 255, 255, 0)';\n        const data = ctx.getImageData(0, 0, w, h).data;\n        this.setDataToDom(data, w, h);\n        // this.dom.current.removeChild(canvas);\n        resolve();\n      };\n      img.crossOrigin = 'anonymous';\n      img.src = this.state.image;\n    });\n  };\n\n  gatherData = () => {\n    const children = this.state.children.map(item =>\n    React.cloneElement(item, {\n      animation: {\n        x: 0,\n        y: 0,\n        opacity: 1,\n        scale: 1,\n        delay: Math.random() * 500,\n        duration: 800,\n        ease: 'easeInOutQuint',\n      },\n    }));\n    this.setState({ children });\n  };\n\n  disperseData = () => {\n    const rect = this.dom.current.getBoundingClientRect();\n    const sideRect = this.sideBoxComp.dom.getBoundingClientRect();\n    const sideTop = sideRect.top - rect.top;\n    const sideLeft = sideRect.left - rect.left;\n    const children = this.state.children.map(item =>\n    React.cloneElement(item, {\n      animation: {\n        x: Math.random() * rect.width - sideLeft - item.props.style.left,\n        y: Math.random() * rect.height - sideTop - item.props.style.top,\n        opacity: Math.random() * 0.4 + 0.1,\n        scale: Math.random() * 2.4 + 0.1,\n        duration: Math.random() * 500 + 500,\n        ease: 'easeInOutQuint',\n      },\n    }));\n    this.setState({\n      children,\n    });\n  };\n\n  updateTweenData = () => {\n    ((this.gather && this.disperseData) || this.gatherData)();\n    this.gather = !this.gather;\n  };\n\n  render() {\n  return (\n    <div ref={this.dom} className=\"avatar\">\n      <TweenOne\n        animation={this.state.boxAnim}\n        className=\"right-side blur\"\n        onMouseEnter={this.onMouseEnter}\n        onMouseLeave={this.onMouseLeave}\n        ref={(c) => {\n        this.sideBoxComp = c;\n        }}\n      >\n      {this.state.children}\n      </TweenOne>\n      <img alt=\"avatar\" className=\"avatar-img\" src={this.state.image} />\n    </div>\n  );\n  }\n}\n","/**\n * This file is part of the Blog.\n * @author William Chan <root@williamchan.me>\n */\nimport React, { Component } from 'react';\nimport Avatar from './Avatar';\nimport '../styles/header.css';\n\nexport default class Header extends Component {\n  render() {\n    return (\n      <header className=\"header\">\n        <div className=\"top\">\n          <Avatar />\n          <div className=\"name\">青阳魂</div>\n          <div className=\"sign\">Passionate about technology &amp; Hacker</div>\n          <ul className=\"sns\">\n            <li><a className=\"github\" target=\"_blank\" href=\"https://github.com/luckyyyyy\">GitHub</a></li>\n            <li><a className=\"weibo\" target=\"_blank\" href=\"https://weibo.com/techvicky\">WeiBo</a></li>\n            <li><a className=\"zhihu\" target=\"_blank\" href=\"https://www.zhihu.com/people/qingyh/activities\">知乎</a></li>\n          </ul>\n        </div>\n        <div className=\"bottom\">\n          <p>Full Stack Developer</p>\n          <p>C / Objective-C / JavaScript / PHP7 / MySQL / nodejs / ...</p>\n        </div>\n      </header>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Header from './components/Header';\n\nimport './styles/app.css';\n\nclass App extends Component {\n  render() {\n  return (\n    <div className=\"app\">\n    <Header />\n    </div>\n  );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'normalize.css';\nimport './styles/index.css';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/avatar.cc2ebffd.png\";"],"sourceRoot":""}